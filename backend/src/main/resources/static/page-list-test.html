<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì±„íŒ…ë°© ëª©ë¡</title>
  <script>
    async function loadChatRooms(page = 0, size = 10) {
        const response = await fetch(`/chatrooms?page=${page}&size=${size}`);
        const result = await response.json();

        const container = document.getElementById('chat-rooms');
        container.innerHTML = '';

        if (result.success) {
            result.data.content.forEach(room => {
                const div = document.createElement('div');
                div.className = 'chat-room';
                div.innerHTML = `
                    <p><strong>ì±„íŒ…ë°© ID:</strong> ${room.id}</p>
                    <p><strong>ë³´ë‚¸ ì‚¬ëŒ ID:</strong> ${room.senderId}</p>
                    <p><strong>ë°›ëŠ” ì‚¬ëŒ ID:</strong> ${room.receiverId}</p>
                    <p><strong>ìƒì„±ì¼:</strong> ${room.createdAt}</p>
                    <hr>
                `;
                container.appendChild(div);
            });

            document.getElementById('pagination').innerText =
                `í˜„ì¬ í˜ì´ì§€: ${result.data.number + 1} / ì´ ${result.data.totalPages}`;
        } else {
            container.innerHTML = `<p>ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨: ${result.message}</p>`;
        }
    }

    window.onload = () => loadChatRooms();
  </script>
</head>
<body>
<h1>ğŸ‘» ì±„íŒ…ë°© ëª©ë¡</h1>
<div id="chat-rooms"></div>
<div id="pagination" style="margin-top: 20px;"></div>
</body>
</html>
